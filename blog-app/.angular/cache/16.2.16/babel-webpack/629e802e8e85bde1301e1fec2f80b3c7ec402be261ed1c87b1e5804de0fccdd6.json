{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../blog.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction BlogComponent_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 5);\n    i0.ɵɵlistener(\"click\", function BlogComponent_li_1_Template_li_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const post_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.loadPostDetails(post_r2.id));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const post_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", post_r2.title, \" \");\n  }\n}\nfunction BlogComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.postDetails.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.postDetails.description);\n  }\n}\nexport class BlogComponent {\n  constructor(blogService) {\n    this.blogService = blogService;\n    this.posts = [];\n    this.postDetails = null;\n    this.newPost = {};\n  }\n  ngOnInit() {\n    this.blogService.getPosts().subscribe(posts => {\n      this.posts = posts;\n    }, error => {\n      console.error('Failed to load posts', error);\n    });\n  }\n  createPost() {\n    this.blogService.createPost(this.newPost).subscribe();\n  }\n  loadPostDetails(id) {\n    this.blogService.getPostById(id).subscribe(post => {\n      this.blogService.getPosts().subscribe(allPosts => {\n        this.postDetails = {\n          ...post,\n          totalPosts: allPosts.length\n        };\n      });\n    });\n  }\n  static {\n    this.ɵfac = function BlogComponent_Factory(t) {\n      return new (t || BlogComponent)(i0.ɵɵdirectiveInject(i1.BlogService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: BlogComponent,\n      selectors: [[\"app-blog\"]],\n      decls: 17,\n      vars: 5,\n      consts: [[3, \"click\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [3, \"submit\"], [3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\"], [3, \"click\"]],\n      template: function BlogComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ul\");\n          i0.ɵɵtemplate(1, BlogComponent_li_1_Template, 2, 1, \"li\", 0);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(2, BlogComponent_div_2_Template, 5, 2, \"div\", 1);\n          i0.ɵɵelementStart(3, \"h1\");\n          i0.ɵɵtext(4, \"Create New Post\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"form\", 2);\n          i0.ɵɵlistener(\"submit\", function BlogComponent_Template_form_submit_5_listener() {\n            return ctx.createPost();\n          });\n          i0.ɵɵelementStart(6, \"label\");\n          i0.ɵɵtext(7, \"Title: \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"input\", 3);\n          i0.ɵɵlistener(\"ngModelChange\", function BlogComponent_Template_input_ngModelChange_8_listener($event) {\n            return ctx.newPost.title = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"label\");\n          i0.ɵɵtext(10, \"Description: \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"input\", 3);\n          i0.ɵɵlistener(\"ngModelChange\", function BlogComponent_Template_input_ngModelChange_11_listener($event) {\n            return ctx.newPost.description = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"label\");\n          i0.ɵɵtext(13, \"Content: \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"textarea\", 3);\n          i0.ɵɵlistener(\"ngModelChange\", function BlogComponent_Template_textarea_ngModelChange_14_listener($event) {\n            return ctx.newPost.content = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"button\", 4);\n          i0.ɵɵtext(16, \"Submit\");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngForOf\", ctx.posts);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.postDetails);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngModel\", ctx.newPost.title);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngModel\", ctx.newPost.description);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngModel\", ctx.newPost.content);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","BlogComponent_li_1_Template_li_click_0_listener","restoredCtx","ɵɵrestoreView","_r4","post_r2","$implicit","ctx_r3","ɵɵnextContext","ɵɵresetView","loadPostDetails","id","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","title","ɵɵtextInterpolate","ctx_r1","postDetails","description","BlogComponent","constructor","blogService","posts","newPost","ngOnInit","getPosts","subscribe","error","console","createPost","getPostById","post","allPosts","totalPosts","length","ɵɵdirectiveInject","i1","BlogService","selectors","decls","vars","consts","template","BlogComponent_Template","rf","ctx","ɵɵtemplate","BlogComponent_li_1_Template","BlogComponent_div_2_Template","BlogComponent_Template_form_submit_5_listener","BlogComponent_Template_input_ngModelChange_8_listener","$event","BlogComponent_Template_input_ngModelChange_11_listener","BlogComponent_Template_textarea_ngModelChange_14_listener","content","ɵɵproperty"],"sources":["C:\\MatrixHomeWork\\frontend\\blog-app\\src\\app\\blog\\blog.component.ts"],"sourcesContent":["\nimport { Component, OnInit } from '@angular/core';\nimport { BlogService } from '../blog.service';\n\n@Component({\n  selector: 'app-blog',\n  template: `<ul>\n      <li *ngFor=\"let post of posts\" (click)=\"loadPostDetails(post.id)\">\n        {{ post.title }}\n      </li>\n    </ul>\n    <div *ngIf=\"postDetails\">\n      <h2>{{ postDetails.title }}</h2>\n      <p>{{ postDetails.description }}</p>\n    </div>\n    <h1>Create New Post</h1>\n    <form (submit)=\"createPost()\">\n  <label>Title: </label>\n  <input [(ngModel)]=\"newPost.title\"> <!-- הוספת name -->\n  <label>Description: </label>\n  <input [(ngModel)]=\"newPost.description\"> \n  <label>Content: </label>\n  <textarea [(ngModel)]=\"newPost.content\"></textarea>\n  <button type=\"submit\">Submit</button>\n</form>`,\n})\nexport class BlogComponent implements OnInit {\n  posts: any[] = [];\n  postDetails: any = null;\n  newPost: any = {};\n  constructor(private blogService: BlogService) {}\n\n  ngOnInit() {\n  \n    this.blogService.getPosts().subscribe(\n      posts => {\n        this.posts = posts;\n      },\n      error => {\n        console.error('Failed to load posts', error);\n      }\n    );\n  }\n  createPost(): void {\n   \n    this.blogService.createPost( this.newPost).subscribe();\n  }\n  loadPostDetails(id: number) {\n   \n    this.blogService.getPostById(id).subscribe(post => {\n      this.blogService.getPosts().subscribe(allPosts => {\n        this.postDetails = {\n          ...post,\n          totalPosts: allPosts.length,\n        };\n      });\n    });\n  }\n}"],"mappings":";;;;;;;IAOMA,EAAA,CAAAC,cAAA,YAAkE;IAAnCD,EAAA,CAAAE,UAAA,mBAAAC,gDAAA;MAAA,MAAAC,WAAA,GAAAJ,EAAA,CAAAK,aAAA,CAAAC,GAAA;MAAA,MAAAC,OAAA,GAAAH,WAAA,CAAAI,SAAA;MAAA,MAAAC,MAAA,GAAAT,EAAA,CAAAU,aAAA;MAAA,OAASV,EAAA,CAAAW,WAAA,CAAAF,MAAA,CAAAG,eAAA,CAAAL,OAAA,CAAAM,EAAA,CAAwB;IAAA,EAAC;IAC/Db,EAAA,CAAAc,MAAA,GACF;IAAAd,EAAA,CAAAe,YAAA,EAAK;;;;IADHf,EAAA,CAAAgB,SAAA,GACF;IADEhB,EAAA,CAAAiB,kBAAA,MAAAV,OAAA,CAAAW,KAAA,MACF;;;;;IAEFlB,EAAA,CAAAC,cAAA,UAAyB;IACnBD,EAAA,CAAAc,MAAA,GAAuB;IAAAd,EAAA,CAAAe,YAAA,EAAK;IAChCf,EAAA,CAAAC,cAAA,QAAG;IAAAD,EAAA,CAAAc,MAAA,GAA6B;IAAAd,EAAA,CAAAe,YAAA,EAAI;;;;IADhCf,EAAA,CAAAgB,SAAA,GAAuB;IAAvBhB,EAAA,CAAAmB,iBAAA,CAAAC,MAAA,CAAAC,WAAA,CAAAH,KAAA,CAAuB;IACxBlB,EAAA,CAAAgB,SAAA,GAA6B;IAA7BhB,EAAA,CAAAmB,iBAAA,CAAAC,MAAA,CAAAC,WAAA,CAAAC,WAAA,CAA6B;;;AAatC,OAAM,MAAOC,aAAa;EAIxBC,YAAoBC,WAAwB;IAAxB,KAAAA,WAAW,GAAXA,WAAW;IAH/B,KAAAC,KAAK,GAAU,EAAE;IACjB,KAAAL,WAAW,GAAQ,IAAI;IACvB,KAAAM,OAAO,GAAQ,EAAE;EAC8B;EAE/CC,QAAQA,CAAA;IAEN,IAAI,CAACH,WAAW,CAACI,QAAQ,EAAE,CAACC,SAAS,CACnCJ,KAAK,IAAG;MACN,IAAI,CAACA,KAAK,GAAGA,KAAK;IACpB,CAAC,EACDK,KAAK,IAAG;MACNC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C,CAAC,CACF;EACH;EACAE,UAAUA,CAAA;IAER,IAAI,CAACR,WAAW,CAACQ,UAAU,CAAE,IAAI,CAACN,OAAO,CAAC,CAACG,SAAS,EAAE;EACxD;EACAlB,eAAeA,CAACC,EAAU;IAExB,IAAI,CAACY,WAAW,CAACS,WAAW,CAACrB,EAAE,CAAC,CAACiB,SAAS,CAACK,IAAI,IAAG;MAChD,IAAI,CAACV,WAAW,CAACI,QAAQ,EAAE,CAACC,SAAS,CAACM,QAAQ,IAAG;QAC/C,IAAI,CAACf,WAAW,GAAG;UACjB,GAAGc,IAAI;UACPE,UAAU,EAAED,QAAQ,CAACE;SACtB;MACH,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;;;uBA/BWf,aAAa,EAAAvB,EAAA,CAAAuC,iBAAA,CAAAC,EAAA,CAAAC,WAAA;IAAA;EAAA;;;YAAblB,aAAa;MAAAmB,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,uBAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UApBbhD,EAAA,CAAAC,cAAA,SAAI;UACXD,EAAA,CAAAkD,UAAA,IAAAC,2BAAA,gBAEK;UACPnD,EAAA,CAAAe,YAAA,EAAK;UACLf,EAAA,CAAAkD,UAAA,IAAAE,4BAAA,iBAGM;UACNpD,EAAA,CAAAC,cAAA,SAAI;UAAAD,EAAA,CAAAc,MAAA,sBAAe;UAAAd,EAAA,CAAAe,YAAA,EAAK;UACxBf,EAAA,CAAAC,cAAA,cAA8B;UAAxBD,EAAA,CAAAE,UAAA,oBAAAmD,8CAAA;YAAA,OAAUJ,GAAA,CAAAhB,UAAA,EAAY;UAAA,EAAC;UAC/BjC,EAAA,CAAAC,cAAA,YAAO;UAAAD,EAAA,CAAAc,MAAA,cAAO;UAAAd,EAAA,CAAAe,YAAA,EAAQ;UACtBf,EAAA,CAAAC,cAAA,eAAmC;UAA5BD,EAAA,CAAAE,UAAA,2BAAAoD,sDAAAC,MAAA;YAAA,OAAAN,GAAA,CAAAtB,OAAA,CAAAT,KAAA,GAAAqC,MAAA;UAAA,EAA2B;UAAlCvD,EAAA,CAAAe,YAAA,EAAmC;UACnCf,EAAA,CAAAC,cAAA,YAAO;UAAAD,EAAA,CAAAc,MAAA,qBAAa;UAAAd,EAAA,CAAAe,YAAA,EAAQ;UAC5Bf,EAAA,CAAAC,cAAA,gBAAyC;UAAlCD,EAAA,CAAAE,UAAA,2BAAAsD,uDAAAD,MAAA;YAAA,OAAAN,GAAA,CAAAtB,OAAA,CAAAL,WAAA,GAAAiC,MAAA;UAAA,EAAiC;UAAxCvD,EAAA,CAAAe,YAAA,EAAyC;UACzCf,EAAA,CAAAC,cAAA,aAAO;UAAAD,EAAA,CAAAc,MAAA,iBAAS;UAAAd,EAAA,CAAAe,YAAA,EAAQ;UACxBf,EAAA,CAAAC,cAAA,mBAAwC;UAA9BD,EAAA,CAAAE,UAAA,2BAAAuD,0DAAAF,MAAA;YAAA,OAAAN,GAAA,CAAAtB,OAAA,CAAA+B,OAAA,GAAAH,MAAA;UAAA,EAA6B;UAACvD,EAAA,CAAAe,YAAA,EAAW;UACnDf,EAAA,CAAAC,cAAA,iBAAsB;UAAAD,EAAA,CAAAc,MAAA,cAAM;UAAAd,EAAA,CAAAe,YAAA,EAAS;;;UAhBZf,EAAA,CAAAgB,SAAA,GAAQ;UAARhB,EAAA,CAAA2D,UAAA,YAAAV,GAAA,CAAAvB,KAAA,CAAQ;UAIzB1B,EAAA,CAAAgB,SAAA,GAAiB;UAAjBhB,EAAA,CAAA2D,UAAA,SAAAV,GAAA,CAAA5B,WAAA,CAAiB;UAOlBrB,EAAA,CAAAgB,SAAA,GAA2B;UAA3BhB,EAAA,CAAA2D,UAAA,YAAAV,GAAA,CAAAtB,OAAA,CAAAT,KAAA,CAA2B;UAE3BlB,EAAA,CAAAgB,SAAA,GAAiC;UAAjChB,EAAA,CAAA2D,UAAA,YAAAV,GAAA,CAAAtB,OAAA,CAAAL,WAAA,CAAiC;UAE9BtB,EAAA,CAAAgB,SAAA,GAA6B;UAA7BhB,EAAA,CAAA2D,UAAA,YAAAV,GAAA,CAAAtB,OAAA,CAAA+B,OAAA,CAA6B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}