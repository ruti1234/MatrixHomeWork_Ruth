{"ast":null,"code":"export {};","map":{"version":3,"names":[],"sources":["C:\\MatrixHomeWork\\frontend\\blog-app\\src\\app\\blog\\blog.component.ts"],"sourcesContent":["\nimport { Component, OnInit } from '@angular/core';\nimport { BlogService } from '../blog.service';\n\n@Component({\n  selector: 'app-blog',\n  template: `\n    <ul>\n      <li *ngFor=\"let post of posts\" (click)=\"loadPostDetails(post.id)\">\n        {{ post.title }}\n      </li>\n    </ul>\n    <div *ngIf=\"postDetails\">\n      <h2>{{ postDetails.title }}</h2>\n      <p>{{ postDetails.description }}</p>\n    </div>\n    <h1>Create New Post</h1>\n    <form (submit)=\"createPost()\">\n  <label>Title: </label>\n  <input [(ngModel)]=\"newPost.title\" name=\"title\"> <!-- הוספת name -->\n  <label>Description: </label>\n  <input [(ngModel)]=\"newPost.description\" name=\"description\"> <!-- הוספת name -->\n  <label>Content: </label>\n  <textarea [(ngModel)]=\"newPost.content\" name=\"content\"></textarea> <!-- הוספת name -->\n  <button type=\"submit\">Submit</button>\n</form>,\n})\nexport class BlogComponent implements OnInit {\n  posts: any[] = [];\n  postDetails: any = null;\n  newPost: any = {};\n  constructor(private blogService: BlogService) {}\n\n  ngOnInit() {\n  \n    this.blogService.getPosts().subscribe(\n      posts => {\n        this.posts = posts;\n      },\n      error => {\n        console.error('Failed to load posts', error);\n      }\n    );\n  }\n  createPost(): void {\n   \n    this.blogService.createPost( this.newPost).subscribe();\n  }\n  loadPostDetails(id: number) {\n   \n    this.blogService.getPostById(id).subscribe(post => {\n      this.blogService.getPosts().subscribe(allPosts => {\n        this.postDetails = {\n          ...post,\n          totalPosts: allPosts.length,\n        };\n      });\n    });\n  }\n}"],"mappings":"AA2DC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}